!function(a){a.fn.scrollbox=function(b){var c={linear:!1,startDelay:2,delay:3,step:5,speed:32,switchItems:1,direction:"vertical",distance:"auto",autoPlay:!0,onMouseOverPause:!0,paused:!1,queue:null,listElement:"ul",listItemElement:"li",infiniteLoop:!0,switchAmount:0,afterForward:null,afterBackward:null};return b=a.extend(c,b),b.scrollOffset="vertical"===b.direction?"scrollTop":"scrollLeft",b.queue&&(b.queue=a("#"+b.queue)),this.each(function(){var c,d,e,f,g,h,i,j,k=a(this),l=null,m=null,n=!1,o=0;b.onMouseOverPause&&(k.bind("mouseover",function(){n=!0}),k.bind("mouseout",function(){n=!1})),c=k.children(b.listElement+":first-child"),b.infiniteLoop===!1&&0===b.switchAmount&&(b.switchAmount=c.children().length),g=function(){if(!n){var d,f,g,h,i;if(d=c.children(b.listItemElement+":first-child"),h="auto"!==b.distance?b.distance:"vertical"===b.direction?d.outerHeight(!0):d.outerWidth(!0),b.linear?g=Math.min(k[0][b.scrollOffset]+b.step,h):(i=Math.max(3,parseInt(.3*(h-k[0][b.scrollOffset]),10)),g=Math.min(k[0][b.scrollOffset]+i,h)),k[0][b.scrollOffset]=g,g>=h){for(f=0;f<b.switchItems;f++)b.queue&&b.queue.find(b.listItemElement).length>0?(c.append(b.queue.find(b.listItemElement)[0]),c.children(b.listItemElement+":first-child").remove()):c.append(c.children(b.listItemElement+":first-child")),++o;if(k[0][b.scrollOffset]=0,clearInterval(l),a.isFunction(b.afterForward)&&b.afterForward.call(k,{switchCount:o,currentFirstChild:c.children(b.listItemElement+":first-child")}),b.infiniteLoop===!1&&o>=b.switchAmount)return;b.autoPlay&&(m=setTimeout(e,1e3*b.delay))}}},h=function(){if(!n){var d,f,g,h,i;if(0===k[0][b.scrollOffset]){for(f=0;f<b.switchItems;f++)c.children(b.listItemElement+":last-child").insertBefore(c.children(b.listItemElement+":first-child"));d=c.children(b.listItemElement+":first-child"),h="auto"!==b.distance?b.distance:"vertical"===b.direction?d.height():d.width(),k[0][b.scrollOffset]=h}b.linear?g=Math.max(k[0][b.scrollOffset]-b.step,0):(i=Math.max(3,parseInt(.3*k[0][b.scrollOffset],10)),g=Math.max(k[0][b.scrollOffset]-i,0)),k[0][b.scrollOffset]=g,0===g&&(--o,clearInterval(l),a.isFunction(b.afterBackward)&&b.afterBackward.call(k,{switchCount:o,currentFirstChild:c.children(b.listItemElement+":first-child")}),b.autoPlay&&(m=setTimeout(e,1e3*b.delay)))}},e=function(){clearInterval(l),l=setInterval(g,b.speed)},i=function(){b.autoPlay=!0,n=!1,clearInterval(l),l=setInterval(g,b.speed)},j=function(){n=!0},d=function(){clearInterval(l),l=setInterval(h,b.speed)},f=function(a){b.delay=a||b.delay,clearTimeout(m),b.autoPlay&&(m=setTimeout(e,1e3*b.delay))},b.autoPlay&&(m=setTimeout(e,1e3*b.startDelay)),k.bind("resetClock",function(a){f(a)}),k.bind("forward",function(){clearTimeout(m),e()}),k.bind("pauseHover",function(){j()}),k.bind("forwardHover",function(){i()}),k.bind("backward",function(){clearTimeout(m),d()}),k.bind("speedUp",function(a){"undefined"===a&&(a=Math.max(1,parseInt(b.speed/2,10))),b.speed=a}),k.bind("speedDown",function(a){"undefined"===a&&(a=2*b.speed),b.speed=a}),k.bind("updateConfig",function(c){b=a.extend(b,c)})})}}(jQuery);